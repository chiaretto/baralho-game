(function(t){function a(a){for(var n,o,i=a[0],l=a[1],c=a[2],d=0,h=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(e,o)&&e[o]&&h.push(e[o][0]),e[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(a);while(h.length)h.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,a=0;a<r.length;a++){for(var s=r[a],n=!0,i=1;i<s.length;i++){var l=s[i];0!==e[l]&&(n=!1)}n&&(r.splice(a--,1),t=o(o.s=s[0]))}return t}var n={},e={app:0},r=[];function o(a){if(n[a])return n[a].exports;var s=n[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,a,s){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)o.d(s,n,function(a){return t[a]}.bind(null,n));return s},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=a,i=i.slice();for(var c=0;c<i.length;c++)a(i[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,a,s){t.exports=s("56d7")},"034f":function(t,a,s){"use strict";var n=s("85ec"),e=s.n(n);e.a},"56d7":function(t,a,s){"use strict";s.r(a);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{attrs:{id:"app"}},[s("nav",{staticClass:"navbar navbar-light bg-light",attrs:{id:"navbar-example"}},[s("span",{attrs:{id:"curinga"}},t._l(t.curingas,(function(a){return s("div",{key:a,staticClass:"card",class:t.extrairNype(a)},[s("p",[t._v(t._s(t.extrairCarta(a)))])])})),0),s("span",{attrs:{id:"jogadores"}},t._l(t.jogadores,(function(a){return s("div",{key:a.nome,staticClass:"jogador",class:a.dealer?"dealer":"",attrs:{title:a.admin?"Admin":""}},[s("span",{staticClass:"foto"},[s("img",{attrs:{src:"https://api.adorable.io/avatars/60/"+a.nome+".png",alt:""}})]),s("span",{staticClass:"nome",class:a.admin?"admin":""},[t._v(t._s(a.nome))]),s("span",{staticClass:"qtdCartas badge",class:"cor-"+a.quantidadeCartas,attrs:{title:"Quantidade cartas"}},[t._v(t._s(a.quantidadeCartas))]),s("span",{staticClass:"qtdPontos badge badge-dark",attrs:{title:"Vitorias"}},[t._v(t._s(a.pontosRodada))])])})),0),s("ul",{staticClass:"nav nav-pills"},[s("li",{staticClass:"nav-item"},[t.estaLogado?s("input",{staticClass:"btn btn-sm btn-success",attrs:{type:"button",value:"Dar Cartas"},on:{click:function(a){return t.embaralhar()}}}):t._e()]),s("li",{staticClass:"nav-item"},[t.estaLogado&&!t.existeAdmin?s("input",{staticClass:"btn btn-sm btn-warning",attrs:{type:"button",value:"Virar Admin"},on:{click:function(a){return t.virarAdmin()}}}):t._e()]),s("li",{staticClass:"nav-item"},[t.estaLogado?t._e():s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:function(a){return t.entrar()}}},[t._v("Entrar")]),t.estaLogado?s("input",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button",value:"Sair"},on:{click:function(a){return t.sair()}}}):t._e()])])]),s("div",{attrs:{id:"mesa"}},[s("div",{staticClass:"hand grow"},t._l(t.mesa,(function(a,n){return s("div",{key:a,staticClass:"card",class:t.extrairNype(a.carta),attrs:{title:"Click na carta vencedora"},on:{click:function(a){return t.setarGanhador(n)}}},[s("p",[t._v(t._s(t.extrairCarta(a.carta)))]),s("span",[t._v(t._s(a.jogador))])])})),0)]),s("div",{attrs:{id:"minhas"}},[s("div",{staticClass:"hand grow"},t._l(t.cartas,(function(a,n){return s("div",{key:a,staticClass:"card",class:t.extrairNype(a),attrs:{title:"Click para jogar a carta"},on:{click:function(a){return t.jogar(n)}}},[s("p",[t._v(t._s(t.extrairCarta(a)))])])})),0)]),t._m(0)])},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal",attrs:{tabindex:"-1",role:"dialog"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[t._v("Modal title")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("p",[t._v("Modal body text goes here.")])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Save changes")])])])])])}],o=(s("4de4"),s("bc3a")),i=s.n(o),l={name:"App",data:function(){return{host:"http://localhost:3000",nome:null,senha:null,admin:!1,dealer:!1,quantidade:0,mesa:[],curingas:[],jogadores:[],cartas:[]}},components:{},mounted:function(){var t=this;window.localStorage&&window.localStorage.getItem("nome")&&window.localStorage.getItem("senha")&&(this.nome=window.localStorage.getItem("nome"),this.senha=window.localStorage.getItem("senha")),setInterval((function(){t.sala(),t.getCartas()}),1e3)},computed:{estaLogado:function(){return null!=this.nome&&null!=this.senha},existeAdmin:function(){var t=this.jogadores.filter((function(t){return 1==t.admin}));return t.length>0},isAdmin:function(){return!0===this.admin},isDealer:function(){return!0===this.dealer}},methods:{extrairNype:function(t){if(t){var a="1"==t.substr(0,1)?t.substr(2,1):t.substr(1,1);switch(a){case"♦":return"suitdiamonds";case"♥":return"suithearts";case"♣":return"suitclubs";case"♠":return"suitspades";default:return"0"}}},extrairBaralho:function(t){return"1"==t.substr(0,1)?t.substr(3,1):t.substr(2,1)},extrairCarta:function(t){return"1"==t.substr(0,1)?t.substr(0,2):t.substr(0,1)},entrar:function(){var t=this,a=prompt("Seu nome ?");void 0!=a&&""!=a&&(this.nome=a,i.a.post(this.host+"/salas/entrar",{nome:this.nome}).then((function(a){t.senha=a.data.senha,window.localStorage.setItem("nome",t.nome),window.localStorage.setItem("senha",t.senha)})))},sair:function(){var t=this;i.a.post(this.host+"/salas/sair",{nome:this.nome,senha:this.senha}).then((function(){t.nome=null,t.senha=null,t.cartas=[],window.localStorage.removeItem("nome"),window.localStorage.removeItem("senha")}))},embaralhar:function(){var t=prompt("Quantas cartas ?");void 0!=t&&""!=t&&i.a.post(this.host+"/salas/embaralhar",{quantidade:t,nome:this.nome,senha:this.senha})},jogar:function(t){var a=this;i.a.post(this.host+"/salas/jogar",{posicaoCarta:t,nome:this.nome,senha:this.senha}).then((function(t){a.sala(),a.cartas=t.data.cartas}))},setarGanhador:function(t){var a=this;this.admin&&i.a.post(this.host+"/salas/setarGanhador",{posicaoCartaVencedora:t}).then((function(){a.sala()}))},virarAdmin:function(){var t=this;i.a.post(this.host+"/salas/virarAdmin",{nome:this.nome,senha:this.senha}).then((function(){t.sala()}))},sala:function(){var t=this;i.a.get(this.host+"/salas").then((function(a){t.mesa.length!=a.data.mesa.length&&(t.mesa=a.data.mesa),t.jogadores=a.data.jogadores,t.curingas=a.data.curingas}))},novaRodada:function(){i.a.post(this.host+"/salas/novaRodada")},getCartas:function(){var t=this;null!=this.nome&&null!=this.senha&&i.a.post(this.host+"/salas/minhasCartas",{nome:this.nome,senha:this.senha}).then((function(a){t.cartas=a.data.cartas,t.dealer=a.data.dealer,t.admin=a.data.admin}))}}},c=l,u=(s("034f"),s("2877")),d=Object(u["a"])(c,e,r,!1,null,null,null),h=d.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(h)}}).$mount("#app")},"85ec":function(t,a,s){}});
//# sourceMappingURL=app.03b8b198.js.map